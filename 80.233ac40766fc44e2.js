"use strict";(self.webpackChunke_commerce=self.webpackChunke_commerce||[]).push([[80],{5080:(Z,l,r)=>{r.r(l),r.d(l,{WishlistComponent:()=>W});var _=r(6814),d=r(8129),u=r(1120),t=r(4769),h=r(8777),p=r(5371),m=r(2425);function g(o,n){if(1&o){const i=t.EpF();t.TgZ(0,"i",19),t.NdJ("click",function(){t.CHM(i);const e=t.oxw().$implicit,c=t.oxw(2);return t.KtG(c.removeFromWishList(e._id))}),t.qZA()}}function f(o,n){if(1&o){const i=t.EpF();t.TgZ(0,"i",20),t.NdJ("click",function(){t.CHM(i);const e=t.oxw().$implicit,c=t.oxw(2);return t.KtG(c.addItemToWishList(e._id))}),t.qZA()}}function x(o,n){if(1&o&&t._UZ(0,"i",21),2&o){const i=t.oxw().$implicit;t.ekj("rating-color",i.ratingsAverage)}}const v=function(o){return["/details",o]},C=function(){return[1,2,3,4,5]};function L(o,n){if(1&o){const i=t.EpF();t.TgZ(0,"div",6)(1,"div",7),t.YNc(2,g,1,0,"i",8),t.YNc(3,f,1,0,"i",9),t.TgZ(4,"header",10),t._UZ(5,"img",11),t.TgZ(6,"p",12),t._uU(7),t.qZA(),t.TgZ(8,"h5",13),t._uU(9),t.ALo(10,"cuttext"),t.qZA(),t.TgZ(11,"div",14)(12,"div"),t._uU(13),t.ALo(14,"currency"),t.qZA(),t.TgZ(15,"div"),t.YNc(16,x,1,2,"i",15),t._uU(17),t.qZA()()(),t.TgZ(18,"footer")(19,"button",16,17),t.NdJ("click",function(){const c=t.CHM(i).$implicit,a=t.MAs(20),D=t.oxw(2);return t.KtG(D.addProductToCart(c._id,a))}),t._uU(21," add to cart "),t._UZ(22,"i",18),t.qZA()()()()}if(2&o){const i=n.$implicit,s=t.oxw(2);t.xp6(2),t.Q6J("ngIf",s.wishListData.includes(i._id)),t.xp6(1),t.Q6J("ngIf",!s.wishListData.includes(i._id)),t.xp6(1),t.Q6J("routerLink",t.VKq(16,v,i._id)),t.xp6(1),t.Q6J("src",i.imageCover,t.LSH)("title",i.title)("alt",i.title),t.xp6(2),t.Oqu(i.category.name),t.xp6(2),t.Oqu(t.xi3(10,11,i.title,2)),t.xp6(4),t.Oqu(t.lcZ(14,14,i.price)),t.xp6(3),t.Q6J("ngForOf",t.DdM(18,C)),t.xp6(1),t.hij(" ",i.ratingsAverage," ")}}function T(o,n){if(1&o&&(t.TgZ(0,"section",1)(1,"h2",2),t._uU(2," popular "),t.TgZ(3,"span",3),t._uU(4,"products"),t.qZA()(),t.TgZ(5,"div",4),t.YNc(6,L,23,19,"div",5),t.qZA()()),2&o){const i=t.oxw();t.xp6(6),t.Q6J("ngForOf",i.productList)}}let W=(()=>{var o;class n{constructor(s,e,c,a){this._WishlistService=s,this._Renderer2=e,this._CartService=c,this.toaster=a,this.wishListData=[],this.productList=[]}ngOnInit(){this._WishlistService.gitWishList().subscribe({next:s=>{this.productList=s.data;const e=s.data.map(c=>c._id);this.wishListData=e,console.log(this.productList)},error:s=>{console.log(s)}})}addProductToCart(s,e){this._Renderer2.setAttribute(e,"disabled","true"),this._CartService.addToCart(s).subscribe({next:c=>{this.toaster.success(c.message),this._CartService.cartNumber.next(c.numOfCartItems),console.log(c)},error:c=>{console.log(c)},complete:()=>{this._Renderer2.removeAttribute(e,"disabled")}})}addItemToWishList(s){this._WishlistService.addToWishList(s).subscribe({next:e=>{this.toaster.success(e.message),this.wishListData=e.data,console.log(this.wishListData)},error:e=>{console.log(e)}})}removeFromWishList(s){this._WishlistService.removeItemFromWishList(s).subscribe({next:e=>{this.toaster.error(e.message),this.wishListData=e.data;const c=this.productList.filter(a=>this.wishListData.includes(a._id));this.productList=c},error:e=>{console.log(e)}})}}return(o=n).\u0275fac=function(s){return new(s||o)(t.Y36(h.M),t.Y36(t.Qsj),t.Y36(p.N),t.Y36(m._W))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-wishlist"]],standalone:!0,features:[t.jDz],decls:1,vars:1,consts:[["class","pb-5",4,"ngIf"],[1,"pb-5"],[1,"text-capitalize","my-5","fw-bolder"],[1,"text-main"],[1,"row","g-4"],["class","col-sm-6 col-md-4 col-lg-3 col-xl-2",4,"ngFor","ngForOf"],[1,"col-sm-6","col-md-4","col-lg-3","col-xl-2"],[1,"h-100","product"],["class","fa-solid fa-heart fa-2xl cursor-pointer text-danger heart",3,"click",4,"ngIf"],["class","fa-regular fa-heart fa-2xl text-main heart",3,"click",4,"ngIf"],[1,"cursor-pointer",3,"routerLink"],[1,"w-100",3,"src","title","alt"],[1,"text-main","text-center","small"],[1,"fw-bold","text-center"],[1,"small","mt-2","d-flex","align-items-center","justify-content-between"],["class","fa-solid fa-star",3,"rating-color",4,"ngFor","ngForOf"],[1,"text-capitalize","btn","main-btn","w-100","py-2","my-1",3,"click"],["addBtn",""],[1,"fa-solid","fa-plus"],[1,"fa-solid","fa-heart","fa-2xl","cursor-pointer","text-danger","heart",3,"click"],[1,"fa-regular","fa-heart","fa-2xl","text-main","heart",3,"click"],[1,"fa-solid","fa-star"]],template:function(s,e){1&s&&t.YNc(0,T,7,1,"section",0),2&s&&t.Q6J("ngIf",e.productList.length>0)},dependencies:[_.ez,_.sg,_.O5,_.H9,d.r,u.rH]}),n})()}}]);