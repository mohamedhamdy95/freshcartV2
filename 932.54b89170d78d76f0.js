"use strict";(self.webpackChunke_commerce=self.webpackChunke_commerce||[]).push([[932],{6666:(A,g,a)=>{a.r(g),a.d(g,{LoginComponent:()=>L});var _=a(6814),o=a(95),u=a(1120),e=a(4769),p=a(1986);function c(n,r){1&n&&(e.TgZ(0,"p",18),e._uU(1,"email is required"),e.qZA())}function d(n,r){1&n&&(e.TgZ(0,"p",18),e._uU(1,"this email invalid"),e.qZA())}function f(n,r){if(1&n&&(e.TgZ(0,"div",16),e.YNc(1,c,2,0,"p",17),e.YNc(2,d,2,0,"p",17),e.qZA()),2&n){const l=e.oxw();let i,t;e.xp6(1),e.Q6J("ngIf",null==(i=l.loginForm.get("email"))?null:i.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(t=l.loginForm.get("email"))?null:t.getError("email"))}}function Z(n,r){1&n&&(e.TgZ(0,"p",18),e._uU(1,"password is required"),e.qZA())}function v(n,r){1&n&&(e.TgZ(0,"p",18),e._uU(1,"password min length 6"),e.qZA())}function h(n,r){if(1&n&&(e.TgZ(0,"div",16),e.YNc(1,Z,2,0,"p",17),e.YNc(2,v,2,0,"p",17),e.qZA()),2&n){const l=e.oxw();let i,t;e.xp6(1),e.Q6J("ngIf",null==(i=l.loginForm.get("password"))?null:i.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(t=l.loginForm.get("password"))?null:t.getError("pattern"))}}function T(n,r){1&n&&(e.TgZ(0,"span"),e._UZ(1,"i",19),e.qZA())}function x(n,r){if(1&n&&(e.TgZ(0,"div",20),e._uU(1),e.qZA()),2&n){const l=e.oxw();e.xp6(1),e.Oqu(l.errMesg)}}function w(n,r){1&n&&(e.TgZ(0,"div",21),e._uU(1,"Registration Done"),e.qZA())}let L=(()=>{var n;class r{constructor(i,t,s){this._AuthService=i,this._Router=t,this._FormBuilder=s,this.errMesg="",this.sucMesg="",this.isLoading=!1,this.userToken="",this.loginForm=new o.cw({email:new o.NI("",[o.kI.required,o.kI.email]),password:new o.NI("",[o.kI.required,o.kI.pattern(/^[a-zA-Z0-9_@]{6,}$/)])})}handleForm(){const i=this.loginForm.value;this.isLoading=!0,!0===this.loginForm.valid&&this._AuthService.login(i).subscribe({next:t=>{console.log(t),this.isLoading=!1,"success"===t.message&&(localStorage.setItem("eToken",t.token),this._AuthService.decodeUser(),this._Router.navigate(["/home"])),this.sucMesg=t.message},error:t=>{this.errMesg=t.error.message,this.isLoading=!1},complete:()=>{}}),console.log(i)}}return(n=r).\u0275fac=function(i){return new(i||n)(e.Y36(p.e),e.Y36(u.F0),e.Y36(o.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],standalone:!0,features:[e.jDz],decls:24,vars:7,consts:[[1,"p-5","my-5","shadow","rounded-5","w-50","m-auto"],[1,"text-capitalize","my-3"],[1,"text-main"],[3,"formGroup","ngSubmit"],[1,"form-item","mb-3"],["for","email",1,"text-capitalize","mb-2"],["type","email","formControlName","email","id","email",1,"form-control"],["class","alert alert-danger p-1 small mt-2 w-50",4,"ngIf"],["for","password",1,"text-capitalize","mb-2"],["type","password","formControlName","password","id","password",1,"form-control"],[1,"d-flex","align-items-center","justify-content-between"],[1,"main-btn",3,"disabled"],[4,"ngIf"],["routerLink","/forget",1,"link-primary","cursor-pointer"],["class","alert alert-danger w-50 mx-auto mb-0 text-center",4,"ngIf"],["class","alert alert-success w-50 mx-auto mb-0 text-center",4,"ngIf"],[1,"alert","alert-danger","p-1","small","mt-2","w-50"],["class","mb-0",4,"ngIf"],[1,"mb-0"],[1,"fa-solid","fa-spinner","fa-spin"],[1,"alert","alert-danger","w-50","mx-auto","mb-0","text-center"],[1,"alert","alert-success","w-50","mx-auto","mb-0","text-center"]],template:function(i,t){if(1&i&&(e.TgZ(0,"section",0)(1,"h1",1),e._uU(2,"login "),e.TgZ(3,"span",2),e._uU(4,"now"),e.qZA()(),e.TgZ(5,"form",3),e.NdJ("ngSubmit",function(){return t.handleForm()}),e.TgZ(6,"div",4)(7,"label",5),e._uU(8,"email"),e.qZA(),e._UZ(9,"input",6),e.YNc(10,f,3,2,"div",7),e.qZA(),e.TgZ(11,"div",4)(12,"label",8),e._uU(13,"password"),e.qZA(),e._UZ(14,"input",9),e.YNc(15,h,3,2,"div",7),e.qZA(),e.TgZ(16,"div",10)(17,"button",11),e._uU(18,"login "),e.YNc(19,T,2,0,"span",12),e.qZA(),e.TgZ(20,"a",13),e._uU(21,"Forget Password"),e.qZA()()(),e.YNc(22,x,2,1,"div",14),e.YNc(23,w,2,0,"div",15),e.qZA()),2&i){let s,m;e.xp6(5),e.Q6J("formGroup",t.loginForm),e.xp6(5),e.Q6J("ngIf",(null==(s=t.loginForm.get("email"))?null:s.errors)&&(null==(s=t.loginForm.get("email"))?null:s.touched)),e.xp6(5),e.Q6J("ngIf",(null==(m=t.loginForm.get("password"))?null:m.errors)&&(null==(m=t.loginForm.get("password"))?null:m.touched)),e.xp6(2),e.Q6J("disabled",t.loginForm.invalid),e.xp6(2),e.Q6J("ngIf",t.isLoading),e.xp6(3),e.Q6J("ngIf",t.errMesg),e.xp6(1),e.Q6J("ngIf",t.sucMesg)}},dependencies:[_.ez,_.O5,o.UX,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,u.rH]}),r})()}}]);